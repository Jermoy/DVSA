<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DVSA Test Checker Pro</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self'">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="notification" class="hidden">
        <p id="notification-message"></p>
        <button id="restart-button" class="hidden">Restart and Install</button>
    </div>
    <div class="container">
        <header>
            <h1>DVSA Test Checker Pro</h1>
            <div id="status" class="status stopped">‚èπÔ∏è Idle</div>
        </header>
        <main>
            <div class="main-content">
                <section class="settings-panel">
                    <h2>Settings</h2>
                    <div class="form-group">
                        <label>Driving Licence Number</label>
                        <input type="password" id="licenceNumber" placeholder="Your driving licence number">
                    </div>
                    <div class="form-group">
                        <label>Booking Reference</label>
                        <input type="password" id="bookingReference" placeholder="Your test booking reference">
                    </div>
                    <div class="form-group">
                        <label>2Captcha API Key (Optional)</label>
                        <input type="password" id="captchaApiKey" placeholder="Your 2Captcha API key">
                    </div>
                    <div class="form-group">
                        <label>Alert for tests before:</label>
                        <input type="date" id="alertBeforeDate">
                        <div class="error-message" id="date-error-message"></div>
                    </div>
                    <div class="form-group">
                        <label>Check every (minutes)</label>
                        <input type="number" id="checkInterval" min="5" value="5">
                        <div class="error-message" id="interval-error-message"></div>
                    </div>
                    
                    <div class="form-group booking-mode-group">
                        <label for="bookingMode">ü§ñ Booking Mode</label>
                        <select id="bookingMode">
                            <option value="disabled">Disabled (Default)</option>
                            <option value="notify">Notify Only (Dry Run)</option>
                            <option value="autoBook">Fully Automatic Booking</option>
                        </select>
                        <p class="form-hint">
                           <b>Notify Only:</b> Finds a slot and sends a clickable notification but WILL NOT book it for you.
                           <br><b>Fully Automatic:</b> Books the first available slot. <strong>Use at your own risk.</strong>
                        </p>
                    </div>

                    <div class="controls">
                        <button id="startBtn" class="btn-start">‚ñ∂Ô∏è Start Monitoring</button>
                        <button id="stopBtn" class="btn-stop" disabled>‚èπÔ∏è Stop</button>
                    </div>
                    <div class="controls-secondary">
                         <button id="checkNowBtn" class="btn-check">üîç Check Now</button>
                         <button id="dvsaWebsiteBtn" class="btn-secondary">üåç Open DVSA Website</button>
                    </div>
                </section>
                <section class="centre-panel">
                    <h2>Test Centres to Monitor</h2>
                    <div class="form-group">
                        <input type="search" id="centreSearchInput" placeholder="üîç Search for a test centre...">
                    </div>
                    <div id="testCentreList" class="test-centre-list">
                        </div>
                </section>
            </div>
            <section class="log-section">
                <h2>Activity Log</h2>
                <div id="progressContainer" class="progress-container hidden">
                    <label for="progressBar" id="progressLabel"></label>
                    <progress id="progressBar" value="0" max="100"></progress>
                </div>
                <div class="log" id="log"></div>
            </section>
        </main>
        <footer>
            <p>Version <span id="app-version"></span>. Credentials are stored securely on your local machine.</p>
        </footer>
    </div>
    <script src="renderer.js"></script>
</body>
</html>